<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>محول العملة - يوان صيني إلى دينار عراقي</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700&display=swap');
        body {
            font-family: 'Cairo', sans-serif;
        }
    </style>
</head>
<body class="bg-gradient-to-br from-blue-50 to-indigo-100 min-h-screen p-4">
    <div class="max-w-md mx-auto mt-8">
        <!-- Header -->
        <div class="text-center mb-8">
            <h1 class="text-3xl font-bold text-gray-800 mb-2">محول العملة</h1>
            <p class="text-gray-600">يوان صيني إلى دينار عراقي</p>
        </div>

        <!-- Main Converter Card -->
        <div class="bg-white rounded-2xl shadow-xl p-6 mb-6">
            <!-- Input Section -->
            <div class="mb-6">
                <label for="yenInput" class="block text-sm font-semibold text-gray-700 mb-2">
                    السعر باليوان الصيني
                </label>
                <div class="relative">
                    <input 
                        type="number" 
                        id="yenInput" 
                        placeholder="أدخل المبلغ"
                        class="w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:outline-none text-lg text-center"
                        oninput="convertCurrency()"
                    >
                    <span class="absolute left-3 top-3 text-gray-500 font-medium">¥</span>
                </div>
            </div>

            <!-- Conversion Result -->
            <div class="mb-6">
                <label class="block text-sm font-semibold text-gray-700 mb-2">
                    المبلغ بالدينار العراقي
                </label>
                <div class="bg-gray-50 rounded-lg p-4 text-center">
                    <span id="dinarResult" class="text-2xl font-bold text-green-600">0</span>
                    <span class="text-gray-600 mr-2">دينار عراقي</span>
                </div>
            </div>

            <!-- Exchange Rate Info -->
            <div class="bg-blue-50 rounded-lg p-3 mb-6">
                <p class="text-sm text-blue-800 text-center">
                    <span class="font-semibold">سعر الصرف:</span> 1 يوان صيني = 300 دينار عراقي
                </p>
            </div>
        </div>

        <!-- Shipping Cost Card -->
        <div class="bg-white rounded-2xl shadow-xl p-6">
            <h2 class="text-xl font-bold text-gray-800 mb-4 text-center">تكلفة الشحن</h2>
            
            <div id="shippingInfo" class="text-center">
                <div class="bg-gray-50 rounded-lg p-4 mb-4">
                    <span id="shippingCost" class="text-2xl font-bold text-orange-600">0</span>
                    <span class="text-gray-600 mr-2">دينار عراقي</span>
                </div>
                
                <div id="shippingRule" class="text-sm text-gray-600 bg-orange-50 rounded-lg p-3">
                    أدخل المبلغ لحساب تكلفة الشحن
                </div>
            </div>

            <!-- Total Cost -->
            <div class="mt-6 pt-4 border-t-2 border-gray-100">
                <div class="flex justify-between items-center mb-2">
                    <span class="font-semibold text-gray-700">المبلغ:</span>
                    <span id="subtotal" class="text-gray-800">0 دينار</span>
                </div>
                <div class="flex justify-between items-center mb-3">
                    <span class="font-semibold text-gray-700">الشحن:</span>
                    <span id="shippingDisplay" class="text-gray-800">0 دينار</span>
                </div>
                <div class="flex justify-between items-center text-lg font-bold border-t pt-2">
                    <span class="text-gray-800">المجموع الكلي:</span>
                    <span id="totalCost" class="text-blue-600">0 دينار عراقي</span>
                </div>
            </div>
        </div>

        <!-- Shipping Rules Info -->
        <div class="mt-6 bg-white rounded-2xl shadow-xl p-6">
            <h3 class="text-lg font-bold text-gray-800 mb-3 text-center">قواعد الشحن</h3>
            <div class="space-y-2 text-sm">
                <div class="flex items-center justify-between p-2 bg-red-50 rounded-lg">
                    <span class="text-red-800">أقل من 50 يوان</span>
                    <span class="font-semibold text-red-600">2000 دينار شحن</span>
                </div>
                <div class="flex items-center justify-between p-2 bg-green-50 rounded-lg">
                    <span class="text-green-800">50 يوان أو أكثر</span>
                    <span class="font-semibold text-green-600">شحن مجاني</span>
                </div>
            </div>
        </div>
    </div>

    <script>
        function convertCurrency() {
            const yenInput = document.getElementById('yenInput');
            const dinarResult = document.getElementById('dinarResult');
            const shippingCost = document.getElementById('shippingCost');
            const shippingRule = document.getElementById('shippingRule');
            const subtotal = document.getElementById('subtotal');
            const shippingDisplay = document.getElementById('shippingDisplay');
            const totalCost = document.getElementById('totalCost');
            
            const yenAmount = parseFloat(yenInput.value) || 0;
            const exchangeRate = 300; // 1 CNY = 300 IQD
            
            // Convert to Iraqi Dinars
            const dinarAmount = yenAmount * exchangeRate;
            dinarResult.textContent = dinarAmount.toLocaleString('ar-IQ');
            
            // Calculate shipping cost
            let shipping = 0;
            let shippingText = '';
            
            if (yenAmount === 0) {
                shippingText = 'أدخل المبلغ لحساب تكلفة الشحن';
                shippingCost.textContent = '0';
                shippingCost.className = 'text-2xl font-bold text-gray-400';
            } else if (yenAmount < 50) {
                shipping = 2000;
                shippingText = 'تكلفة الشحن: 2000 دينار (أقل من 50 يوان)';
                shippingCost.textContent = shipping.toLocaleString('ar-IQ');
                shippingCost.className = 'text-2xl font-bold text-red-600';
            } else {
                shipping = 0;
                shippingText = 'شحن مجاني! (50 يوان أو أكثر)';
                shippingCost.textContent = 'مجاني';
                shippingCost.className = 'text-2xl font-bold text-green-600';
            }
            
            shippingRule.textContent = shippingText;
            
            // Update totals
            subtotal.textContent = dinarAmount.toLocaleString('ar-IQ') + ' دينار';
            shippingDisplay.textContent = shipping === 0 ? 'مجاني' : shipping.toLocaleString('ar-IQ') + ' دينار';
            
            const total = dinarAmount + shipping;
            totalCost.textContent = total.toLocaleString('ar-IQ') + ' دينار عراقي';
        }
        
        // Initialize on page load
        convertCurrency();
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'964657f2b45add2f',t:'MTc1MzM5MDc4OS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
